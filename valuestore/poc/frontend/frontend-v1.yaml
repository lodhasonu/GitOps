# Namespace configuration
namespace: app

# App configuration
name: frontend-v1
lables:
  app: frontend
  version: v1

# Number of pod replicas
replicaCount: 1

# Container image details
image:
  repository: krmygecr.azurecr.io/frontend
  pullPolicy: Always
  tag: 8d01af6cb304fba653412c4cfb573b80492624cc

command:
env:
  - name: DEPLOYMENT_ENV
    value: "poc"

# container port configuration
container:
  ports:
    # port for the application
    - name: frontend-v1
      containerPort: 80
      protocol: TCP

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi

# Liveness probe configuration
livenessProbe:
  tcpSocket:
    port: 80
  initialDelaySeconds: 30
  periodSeconds: 10
  successThreshold: 1
  failureThreshold: 2

# Readiness probe configuration
readinessProbe:
  tcpSocket:
    port: 80
  initialDelaySeconds: 30
  periodSeconds: 10
  successThreshold: 1
  failureThreshold: 2

# Horizontal Pod Autoscaling configuration
autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 5
  targetCPUUtilizationPercentage: 60
  # targetMemoryUtilizationPercentage: 60